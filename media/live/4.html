<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"/>
  <title>SEVENTEEN ZONE PH - Live</title>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <style>
    :root { 
        --bg: #050505; --text: #ffffff; --header-bg: #0a0a0a; 
        --border: rgba(255,255,255,0.1); --accent: #8b5cf6; 
        --pill-bg: #151515; --card-bg: #1a1a1a;
        --control-bg: linear-gradient(to top, rgba(0,0,0,0.9) 20%, transparent);
        --success: #22c55e;
    }
    body.light-mode {
        --bg: #e5e7eb; --text: #1f2937; --header-bg: #ffffff; 
        --border: rgba(0,0,0,0.05); --pill-bg: #f3f4f6; --card-bg: #ffffff;
    }
    
    * { 
        box-sizing: border-box; 
        -webkit-tap-highlight-color: transparent; 
        outline: none; 
        -webkit-user-select: none;
        user-select: none;
    }

    body { 
        background: var(--bg); 
        color: var(--text); 
        font-family: 'Outfit', sans-serif; 
        margin: 0; padding: 0; 
        height: 100vh; overflow: hidden; 
        transition: background 0.3s; 
    }

    /* --- PERMANENT HEADER --- */
    .header-container { position: fixed; top: 20px; left: 0; width: 100%; display: flex; justify-content: center; z-index: 2000; padding: 0 4%; }
    .header { width: 100%; max-width: 1280px; background: var(--header-bg); border: 1px solid var(--border); border-radius: 30px; padding: 10px 25px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 10px 30px rgba(0,0,0,0.05); min-height: 60px; }
    .brand-section { display: flex; align-items: center; gap: 12px; }
    .logo { font-weight: 800; font-size: 16px; display: flex; align-items: center; gap: 8px; color: var(--text); letter-spacing: 0.5px; text-transform: uppercase; }
    .logo-img { height: 28px; width: auto; filter: drop-shadow(0 0 5px rgba(139, 92, 246, 0.3)); }
    .nav-right { display: flex; align-items: center; gap: 2px; }
    .icon-btn { background: transparent; border: none; color: var(--text); font-size: 18px; cursor: pointer; padding: 8px; border-radius: 50%; transition: 0.2s; }
    .back-btn { color: var(--text); font-size: 18px; text-decoration: none; margin-right: 10px; display: flex; align-items: center; }

    /* --- CINEMATIC CONTAINER --- */
    .main-container { 
        position: fixed; 
        top: 100px; left: 50%; transform: translateX(-50%); 
        width: 100%; max-width: 1280px; 
        padding: 30px 4% 0 4%; 
        display: flex; flex-direction: column; align-items: center;
        height: calc(100vh - 100px); overflow-y: auto;
        scrollbar-width: none;
    }
    .main-container::-webkit-scrollbar { display: none; }

    /* --- PLAYER AREA --- */
    .player-wrapper {
        width: 100%; max-width: 1000px;
        background: #000; border-radius: 24px;
        overflow: hidden; box-shadow: 0 40px 80px rgba(0,0,0,0.5);
        position: relative; aspect-ratio: 16/9;
        margin-bottom: 40px; 
        border: 1px solid var(--border);
    }
    
    video { width: 100%; height: 100%; object-fit: contain; display: block; }

    /* --- INFO SECTION --- */
    .video-info { width: 100%; max-width: 1000px; padding: 0 10px 60px 10px; text-align: left; }
    .video-title { margin: 0 0 10px 0; font-size: 24px; font-weight: 800; line-height: 1.2; color: var(--text); text-transform: uppercase; }
    .video-meta { font-size: 14px; color: #888; display: flex; align-items: center; gap: 15px; font-weight: 500; }

    /* --- AUTO-HIDE CONTROLS --- */
    .controls-overlay { 
        position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
        display: flex; flex-direction: column; justify-content: flex-end; 
        opacity: 0; 
        transition: opacity 0.4s ease, visibility 0.4s; 
        pointer-events: none; z-index: 10; 
    }
    .player-wrapper.show-controls .controls-overlay { opacity: 1; pointer-events: auto; }
    
    .bottom-bar { 
        background: var(--control-bg); 
        padding: 20px 25px calc(20px + env(safe-area-inset-bottom)) 25px; 
        display: flex; align-items: center; justify-content: space-between; width: 100%; 
    }
    
    .ctrl-group { display: flex; align-items: center; gap: 15px; }
    .ctrl-btn { background: transparent; border: none; color: white; font-size: 22px; cursor: pointer; display: flex; align-items: center; justify-content: center; width: 44px; height: 44px; border-radius: 50%; transition: 0.2s; }
    
    .volume-container { display: flex; align-items: center; gap: 8px; }
    input[type=range] { -webkit-appearance: none; width: 80px; height: 4px; background: rgba(255,255,255,0.3); border-radius: 5px; outline: none; }
    input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; width: 14px; height: 14px; background: white; border-radius: 50%; cursor: pointer; }
    
    .live-badge { color: white; font-weight: 800; font-size: 13px; letter-spacing: 1.5px; margin-right: 10px; text-shadow: 0 2px 4px rgba(0,0,0,0.5); }

    .center-icon { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0.5); font-size: 70px; color: rgba(255,255,255,0.9); opacity: 0; pointer-events: none; transition: all 0.2s; z-index: 11; }
    .center-icon.animate { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
    .center-icon.fade-out { transform: translate(-50%, -50%) scale(1.5); opacity: 0; }

    /* PHONE FRIENDLY ADJUSTMENTS */
    @media (max-width: 600px) {
        .header { padding: 8px 15px; border-radius: 20px; min-height: 50px; }
        .logo { font-size: 13px; }
        .logo-img { height: 22px; }
        .main-container { top: 85px; padding-top: 20px; }
        .player-wrapper { border-radius: 16px; margin-bottom: 25px; }
        .video-title { font-size: 18px; }
        
        .bottom-bar { padding: 10px 15px 15px 15px; }
        .ctrl-btn { font-size: 18px; width: 38px; height: 38px; }
        input[type=range] { width: 60px; }
        .ctrl-group { gap: 8px; }
        .live-badge { font-size: 11px; margin-right: 5px; }
    }
    
    /* LANDSCAPE OPTIMIZATION */
    @media (orientation: landscape) and (max-height: 500px) {
        .main-container { padding-top: 10px; }
        .player-wrapper { max-width: 80vh; margin-bottom: 15px; }
        .header-container { top: 10px; }
    }

    .share-modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0.9); background: var(--header-bg); border: 1px solid var(--border); padding: 20px 30px; border-radius: 25px; display: flex; flex-direction: column; align-items: center; gap: 10px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); z-index: 11000; opacity: 0; pointer-events: auto; transition: 0.3s; backdrop-filter: blur(20px); visibility: hidden; }
    .share-modal.active { opacity: 1; transform: translate(-50%, -50%) scale(1); visibility: visible; }
    .modal-icon { width: 45px; height: 45px; background: rgba(34, 197, 94, 0.15); color: var(--success); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 22px; }
  </style>
</head>
<body onload="initPage()">

<div class="header-container" id="mainHeader">
    <div class="header">
        <div class="brand-section">
            <a href="https://mem-collection.vercel.app" class="back-btn"><i class="fas fa-arrow-left"></i></a>
            <div class="logo">
                <img src="https://res.cloudinary.com/dp6x9xmku/image/upload/v1771253635/1-removebg-preview_zteop7.png" alt="SVT Logo" class="logo-img">
                SEVENTEEN ZONE PH
            </div>
        </div>
        <div class="nav-right">
            <button class="icon-btn" onclick="toggleTheme()"><i class="fas fa-moon" id="themeIcon"></i></button>
            <button class="icon-btn" onclick="shareLive()"><i class="fas fa-share-nodes"></i></button>
        </div>
    </div>
</div>

<div class="main-container">
    <div class="player-wrapper" id="videoContainer">
        <video id="videoPlayer" playsinline crossorigin="anonymous" autoplay muted poster="https://res.cloudinary.com/dp6x9xmku/image/upload/v1771258706/holiday_j89g2g.jpg"></video>
        <div class="center-icon" id="centerIcon"><i class="fas fa-play"></i></div>
        
        <div class="controls-overlay" id="controlsOverlay">
            <div class="bottom-bar">
                <div class="ctrl-group">
                    <button class="ctrl-btn" id="playBtn"><i class="fas fa-pause"></i></button>
                    <div class="volume-container">
                        <button class="ctrl-btn" id="muteBtn" style="width: 30px;"><i class="fas fa-volume-mute"></i></button>
                        <input type="range" id="volumeSlider" min="0" max="1" step="0.1" value="0">
                    </div>
                </div>
                <div class="ctrl-group">
                    <div class="live-badge">LIVE</div>
                    <button class="ctrl-btn" id="fsBtn"><i class="fas fa-expand"></i></button>
                </div>
            </div>
        </div>
    </div>

    <div class="video-info">
        <h1 class="video-title" id="videoTitle">SEVENTEEN 2025 JAPAN FANMEETING 'HOLIDAY'</h1>
        <div class="video-meta">
            <span><i class="far fa-eye"></i> Watching Now</span>
            <span><i class="far fa-calendar"></i> Feb 21, 2026</span>
        </div>
    </div>
</div>

<div id="shareModal" class="share-modal">
    <div class="modal-icon"><i class="fas fa-check"></i></div>
    <h3 style="color:var(--text); margin:0; font-size:16px;">Link Copied!</h3>
</div>

<script>
    // --- SECURITY ---
    document.addEventListener('contextmenu', e => e.preventDefault());
    document.onkeydown = e => {
        if(e.keyCode == 123 || (e.ctrlKey && e.shiftKey && [73, 67, 74].includes(e.keyCode)) || (e.ctrlKey && e.keyCode == 85)) return false;
    };

    // --- URL & SHARE ---
    function updateUrlWithParams() {
        const title = encodeURIComponent(document.getElementById('videoTitle').innerText);
        const rand = Math.floor(100000 + Math.random() * 900000);
        const newUrl = window.location.pathname + `?title=${title}&token=svtzonevault-${rand}`;
        window.history.replaceState(null, '', newUrl);
    }

    function shareLive() {
        navigator.clipboard.writeText(window.location.href).then(() => {
            const modal = document.getElementById('shareModal');
            modal.classList.add('active');
            setTimeout(() => modal.classList.remove('active'), 2000);
        });
    }

    const themeIcon = document.getElementById('themeIcon');
    function toggleTheme() {
        document.body.classList.toggle('light-mode');
        const isLight = document.body.classList.contains('light-mode');
        localStorage.setItem('zoneTheme', isLight ? 'light' : 'dark');
        themeIcon.className = isLight ? 'fas fa-sun' : 'fas fa-moon';
    }

    function initPage() {
        if (localStorage.getItem('zoneTheme') === 'light') {
            document.body.classList.add('light-mode');
            themeIcon.className = 'fas fa-sun';
        }
        updateUrlWithParams();
        const video = document.getElementById('videoPlayer');
        const streamUrl = 'https://nl.utako.moe/NHK_G/index.m3u8';
        if (Hls.isSupported()) {
            const hls = new Hls(); hls.loadSource(streamUrl); hls.attachMedia(video);
            hls.on(Hls.Events.MANIFEST_PARSED, () => video.play());
        } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
            video.src = streamUrl;
        }
        showControls();
    }

    const container = document.getElementById('videoContainer');
    const playBtn = document.getElementById('playBtn');
    const muteBtn = document.getElementById('muteBtn');
    const volumeSlider = document.getElementById('volumeSlider');
    const fsBtn = document.getElementById('fsBtn');
    const centerIcon = document.getElementById('centerIcon');
    const videoElem = document.getElementById('videoPlayer');
    let lastTap = 0, controlsTimeout;

    function showControls() { 
        container.classList.add('show-controls'); 
        clearTimeout(controlsTimeout); 
        controlsTimeout = setTimeout(() => { 
            if(!videoElem.paused) container.classList.remove('show-controls'); 
        }, 2000); 
    }

    container.onclick = e => {
        if(e.target.closest('.bottom-bar')) return;
        const now = Date.now();
        if (now - lastTap < 300) togglePlay();
        else container.classList.contains('show-controls') ? container.classList.remove('show-controls') : showControls();
        lastTap = now;
    };

    function togglePlay() {
        if (videoElem.paused) { videoElem.play(); playBtn.innerHTML = '<i class="fas fa-pause"></i>'; animateIcon('fa-play'); } 
        else { videoElem.pause(); playBtn.innerHTML = '<i class="fas fa-play"></i>'; animateIcon('fa-pause'); }
        showControls();
    }

    playBtn.onclick = e => { e.stopPropagation(); togglePlay(); };
    muteBtn.onclick = e => {
        e.stopPropagation();
        videoElem.muted = !videoElem.muted;
        videoElem.volume = videoElem.muted ? 0 : 1;
        volumeSlider.value = videoElem.volume;
        muteBtn.innerHTML = videoElem.volume === 0 ? '<i class="fas fa-volume-mute"></i>' : '<i class="fas fa-volume-up"></i>';
        showControls();
    };

    volumeSlider.oninput = e => {
        videoElem.volume = e.target.value;
        videoElem.muted = videoElem.volume === 0;
        muteBtn.innerHTML = videoElem.volume === 0 ? '<i class="fas fa-volume-mute"></i>' : '<i class="fas fa-volume-up"></i>';
    };

    fsBtn.onclick = e => {
        e.stopPropagation();
        if (!document.fullscreenElement) {
            if (container.requestFullscreen) container.requestFullscreen();
            else if (container.webkitRequestFullscreen) container.webkitRequestFullscreen();
            if (screen.orientation && screen.orientation.lock) screen.orientation.lock('landscape').catch(() => {});
            fsBtn.innerHTML = '<i class="fas fa-compress"></i>';
        } else {
            document.exitFullscreen();
            if (screen.orientation && screen.orientation.unlock) screen.orientation.unlock();
            fsBtn.innerHTML = '<i class="fas fa-expand"></i>';
        }
    };

    function animateIcon(icon) {
        centerIcon.innerHTML = `<i class="fas ${icon}"></i>`;
        centerIcon.classList.remove('animate', 'fade-out');
        void centerIcon.offsetWidth;
        centerIcon.classList.add('animate');
        setTimeout(() => centerIcon.classList.add('fade-out'), 300);
    }
</script>
</body>
</html>
