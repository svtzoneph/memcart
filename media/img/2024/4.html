<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Collection</title>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root { 
        --bg: #050505; --text: #ffffff; --header-bg: #0a0a0a; --card-bg: #1a1a1a;
        --border: rgba(255,255,255,0.1); --accent: #8b5cf6; --pill-bg: #151515; --success: #22c55e;
        --lb-bg: rgba(0,0,0,0.98); --lb-btn-bg: rgba(255,255,255,0.1); --lb-btn-text: #ffffff;
    }
    body.light-mode {
        --bg: #f3f4f6; --text: #1f2937; --header-bg: #ffffff; --card-bg: #ffffff;
        --border: rgba(0,0,0,0.1); --pill-bg: #e5e7eb;
        --lb-bg: #f9fafb; 
        --lb-btn-bg: rgba(0,0,0,0.05); --lb-btn-text: #1f2937;
    }
    
    body { -webkit-user-select: none; -ms-user-select: none; user-select: none; }
    input, textarea { -webkit-user-select: text; -ms-user-select: text; user-select: text; }
    
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    body { background: var(--bg); color: var(--text); font-family: 'Outfit', sans-serif; margin: 0; padding: 20px; padding-top: 140px; transition: background 0.3s, color 0.3s; }

    /* --- HEADER (UNCHANGED) --- */
    .header-container { position: fixed; top: 25px; left: 0; width: 100%; display: flex; justify-content: center; z-index: 1000; padding: 0 15px; }
    
    .header { 
        background: var(--header-bg); 
        border: 1px solid var(--border);
        border-radius: 9999px; 
        height: auto;
        min-height: 55px;
        padding: 10px 25px; 
        display: grid; 
        grid-template-columns: 45px 1fr 85px; 
        align-items: center;
        box-shadow: 0 10px 40px rgba(0,0,0,0.4);
    }

    .nav-left { display: flex; justify-content: flex-start; align-items: center; }
    .round-btn { width: 40px; height: 40px; background: var(--pill-bg); color: var(--text); border-radius: 50%; display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 16px; transition: 0.2s; flex-shrink: 0; }
    .round-btn:hover { background: var(--accent); color: white; }
    
    .page-title { 
        font-weight: 700; 
        font-size: 16px; 
        color: var(--text); 
        line-height: 1.3; 
        text-transform: uppercase; 
        text-align: center; 
        padding: 0 15px; 
        white-space: normal; 
        word-break: break-word;
    }

    @media (max-width: 600px) {
        .page-title { 
            font-size: 11px; 
            line-height: 1.4;
            padding: 0 8px; 
            font-weight: 600;
        }
        .header { 
            padding: 8px 15px; 
            grid-template-columns: 40px 1fr 75px; 
            min-height: 50px;
        }
        .header-container { padding: 0 10px; top: 20px; }
        .round-btn { width: 35px; height: 35px; font-size: 14px; }
        .icon-btn { font-size: 16px; padding: 8px; }
    }

    .nav-right { display: flex; justify-content: flex-end; align-items: center; gap: 5px; flex-shrink: 0; }
    .icon-btn { background: transparent; border: none; color: var(--text); font-size: 18px; cursor: pointer; padding: 10px; border-radius: 50%; transition: 0.2s; opacity: 0.8; }
    .icon-btn:hover { background: var(--pill-bg); opacity: 1; }

    /* --- GALLERY GRID (UPDATED: SMALLER ITEMS ON DESKTOP) --- */
    .gallery-grid { 
        display: flex; 
        flex-wrap: wrap;
        justify-content: center; /* Keeps everything in the middle */
        gap: 12px; 
        max-width: 1000px; /* Limits spread on huge screens */
        margin: 0 auto; 
    }
    
    .grid-item { 
        /* Mobile: 2 items per row */
        width: calc(50% - 6px); 
        border-radius: 12px; 
        overflow: hidden; 
        background: var(--card-bg); 
        border: 1px solid var(--border); 
        cursor: pointer; 
        position: relative;
    }

    /* DESKTOP ADJUSTMENTS: Keep items small */
    @media (min-width: 768px) {
        .gallery-grid { gap: 15px; }
        .grid-item {
            /* Fixed small width so they don't get huge */
            width: 220px; 
            flex-grow: 0; /* Prevents stretching */
            border-radius: 15px;
        }
    }

    .grid-item img { width: 100%; height: 100%; object-fit: cover; display: block; transition: 0.3s; }
    .grid-item:hover img { transform: scale(1.03); }

    /* --- LIGHTBOX --- */
    .lightbox { 
        position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
        background: var(--lb-bg); z-index: 9999; 
        display: none; flex-direction: column; 
        transition: background 0.3s; 
    }
    .lightbox.active { display: flex; animation: fadeIn 0.2s; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    .lb-header { height: 60px; width: 100%; display: flex; justify-content: flex-end; align-items: center; padding: 0 20px; z-index: 10001; flex-shrink: 0; }
    .lb-btn { color: var(--lb-btn-text); font-size: 22px; cursor: pointer; background: var(--lb-btn-bg); border: none; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; backdrop-filter: blur(5px); }

    .lb-body { flex: 1; display: flex; align-items: center; justify-content: center; position: relative; width: 100%; overflow: hidden; }
    
    /* Animated Image */
    .lb-img { 
        max-width: 90%; max-height: 80vh; 
        width: auto; height: auto; 
        object-fit: contain; 
        border-radius: 20px; 
        box-shadow: 0 30px 60px rgba(0,0,0,0.5); 
        user-select: none; 
        opacity: 1;
        transform: scale(1);
        transition: transform 0.3s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.3s ease;
    }
    
    .lb-img.animating {
        opacity: 0;
        transform: scale(0.92);
    }

    @media (max-width: 768px) { .lb-img { max-width: 95%; max-height: 70vh; border-radius: 12px; } }

    .lb-footer { height: 90px; width: 100%; display: flex; align-items: center; justify-content: center; z-index: 10001; flex-shrink: 0; padding-bottom: 10px; }
    .lb-thumbs { display: flex; gap: 10px; overflow-x: auto; padding: 0 20px; scrollbar-width: none; max-width: 100%; align-items: center; height: 100%; }
    .lb-thumb { width: 50px; height: 50px; border-radius: 10px; object-fit: cover; opacity: 0.4; border: 2px solid transparent; flex-shrink: 0; transition: 0.2s; cursor: pointer; }
    .lb-thumb.active { opacity: 1; border-color: var(--accent); transform: scale(1.1); }

    .nav-arrow { position: absolute; top: 50%; transform: translateY(-50%); font-size: 30px; color: var(--lb-btn-text); opacity: 0.5; cursor: pointer; padding: 20px; z-index: 10002; transition: 0.2s; display: none; }
    .nav-arrow:hover { opacity: 1; background: rgba(0,0,0,0.1); border-radius: 50%; }
    .nav-left { left: 10px; } .nav-right { right: 10px; }
    @media(min-width: 1024px) { .nav-arrow { display: block; } }

    /* MODAL */
    .share-modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0.9); background: var(--header-bg); border: 1px solid var(--border); padding: 25px 40px; border-radius: 20px; display: flex; flex-direction: column; align-items: center; gap: 12px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); z-index: 11000; opacity: 0; pointer-events: none; transition: 0.3s; backdrop-filter: blur(15px); text-align: center; }
    .share-modal.active { opacity: 1; transform: translate(-50%, -50%) scale(1); pointer-events: auto; }
    .modal-icon { width: 50px; height: 50px; background: rgba(34, 197, 94, 0.15); color: var(--success); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; }
  </style>
</head>

<script>
  document.addEventListener('contextmenu', e => e.preventDefault());
  document.addEventListener('dragstart', e => e.preventDefault());
  document.addEventListener('selectstart', e => e.preventDefault());
  document.onkeydown = function(e) { if(e.keyCode == 123) return false; };
</script>

<body>

<div class="header-container">
    <div class="header">
        <div class="nav-left"><a href="https://mem-collection.vercel.app" class="round-btn"><i class="fas fa-arrow-left"></i></a></div>
        <div class="page-title">[17ehind] SEVENTEEN 'LALALI' MV Behind Photo</div>
        <div class="nav-right">
            <button class="icon-btn" onclick="toggleTheme()"><i class="fas fa-sun" id="themeIcon"></i></button>
            <button class="icon-btn" onclick="sharePage()"><i class="fas fa-share-nodes"></i></button>
        </div>
    </div>
</div>

<div class="gallery-grid" id="grid"></div>

<div class="lightbox" id="lightbox">
    <div class="lb-header"><button class="lb-btn" onclick="closeLightbox()"><i class="fas fa-times"></i></button></div>
    <div class="lb-body" id="lbBody">
        <div class="nav-arrow nav-left" onclick="prevImage()"><i class="fas fa-chevron-left"></i></div>
        <img src="" class="lb-img" id="lbImage">
        <div class="nav-arrow nav-right" onclick="nextImage()"><i class="fas fa-chevron-right"></i></div>
    </div>
    <div class="lb-footer"><div class="lb-thumbs" id="lbThumbs"></div></div>
</div>

<div id="shareModal" class="share-modal">
    <div class="modal-icon"><i class="fas fa-check"></i></div>
    <h3 style="color:var(--text); margin:0;">Link Copied!</h3>
</div>

<script>
    const themeIcon = document.getElementById('themeIcon');
    function initTheme() {
        if (localStorage.getItem('zoneTheme') === 'light') {
            document.body.classList.add('light-mode');
            themeIcon.className = 'fas fa-sun';
        } else {
            themeIcon.className = 'fas fa-moon';
        }
    }
    function toggleTheme() {
        document.body.classList.toggle('light-mode');
        const isLight = document.body.classList.contains('light-mode');
        localStorage.setItem('zoneTheme', isLight ? 'light' : 'dark');
        themeIcon.className = isLight ? 'fas fa-sun' : 'fas fa-moon';
    }
    initTheme();

    const images = [
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771142837/weverse_4-290315576_qfj8jz.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771142835/weverse_3-289850150_t7uudq.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771142834/weverse_3-289850151_zwy36w.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771142833/weverse_3-289850149_nzt099.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771142829/weverse_3-289850148_cf46zm.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771142827/weverse_3-289850146_ght3jr.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771142826/weverse_3-289850147_cgnjcm.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771142825/weverse_3-289850145_rij11u.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771142823/weverse_2-282143500_blqp7v.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771142822/weverse_2-282143499_psne15.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771142821/weverse_2-282143498_ii9yu6.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771142820/weverse_2-282143497_se4apm.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771142819/weverse_2-282143496_n8g2yi.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771141968/weverse_1-282725572_uoindv.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771141967/weverse_1-282725571_krnqtc.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771141966/weverse_0-282831077_m4uqkf.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771141965/weverse_0-282831078_zro582.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771141964/weverse_0-282831076_bwbrzt.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771141963/weverse_0-282831075_ej5rmp.jpg" },
        { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771141963/weverse_0-282831074_kgi1fp.jpg" }
    ];

    const grid = document.getElementById('grid');
    const lbImage = document.getElementById('lbImage');
    const lbThumbs = document.getElementById('lbThumbs');
    const lightbox = document.getElementById('lightbox');
    let currentIndex = 0;

    images.forEach((item, index) => {
        const div = document.createElement('div');
        div.className = 'grid-item';
        div.innerHTML = `<img src="${item.src}" loading="lazy">`;
        div.onclick = () => openLightbox(index);
        grid.appendChild(div);

        const thumb = document.createElement('img');
        thumb.src = item.src;
        thumb.className = 'lb-thumb';
        thumb.id = `thumb-${index}`;
        thumb.onclick = () => { currentIndex = index; updateLightbox(false); }; 
        lbThumbs.appendChild(thumb);
    });

    function openLightbox(index) { 
        currentIndex = index; 
        updateLightbox(true); 
        lightbox.classList.add('active'); 
        document.body.style.overflow = 'hidden'; 
    }
    
    function closeLightbox() { 
        lightbox.classList.remove('active'); 
        document.body.style.overflow = 'auto'; 
    }
    
    function updateLightbox(skipAnimation = false) {
        if(currentIndex < 0) currentIndex = images.length - 1;
        if(currentIndex >= images.length) currentIndex = 0;
        
        const updateThumbs = () => {
            document.querySelectorAll('.lb-thumb').forEach(t => t.classList.remove('active'));
            const active = document.getElementById(`thumb-${currentIndex}`);
            if(active) {
                active.classList.add('active');
                active.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
            }
        };

        if(skipAnimation) {
            lbImage.src = images[currentIndex].src;
            updateThumbs();
        } else {
            lbImage.classList.add('animating');
            setTimeout(() => {
                lbImage.src = images[currentIndex].src;
                updateThumbs();
                lbImage.onload = () => { lbImage.classList.remove('animating'); };
                setTimeout(() => lbImage.classList.remove('animating'), 20);
            }, 250); 
        }
    }
    
    function nextImage() { currentIndex++; updateLightbox(false); }
    function prevImage() { currentIndex--; updateLightbox(false); }
    
    document.addEventListener('keydown', (e) => {
        if(!lightbox.classList.contains('active')) return;
        if(e.key === 'ArrowRight') nextImage();
        if(e.key === 'ArrowLeft') prevImage();
        if(e.key === 'Escape') closeLightbox();
    });

    let ts = 0; let te = 0;
    const lbBody = document.getElementById('lbBody');
    lbBody.addEventListener('touchstart', e => { ts = e.changedTouches[0].screenX; }, {passive: true});
    lbBody.addEventListener('touchend', e => { te = e.changedTouches[0].screenX; if(te < ts - 50) nextImage(); if(te > ts + 50) prevImage(); }, {passive: true});

    function sharePage() {
        navigator.clipboard.writeText(window.location.href);
        const modal = document.getElementById('shareModal');
        modal.classList.add('active');
        setTimeout(() => modal.classList.remove('active'), 2000);
    }
</script>
</body>
</html>
